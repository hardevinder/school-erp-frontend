/* ─────────────────────────────
   MODAL: Fullscreen, centered, above sidebar
   ───────────────────────────── */

/* Put the modal & backdrop above any sidebar/navbar */
.modal-backdrop {
  z-index: 5000 !important;
}
.modal {
  z-index: 5050 !important;
}

/* Center the dialog horizontally even when very wide */
.modal-xxxl {
  max-width: 100vw !important;     /* full width */
  height: 100vh !important;         /* full height */
  margin-left: auto !important;     /* horizontal center */
  margin-right: auto !important;
  margin-top: 0 !important;         /* prevent odd offsets */
  margin-bottom: 0 !important;
}

/* Ensure the dialog itself uses the full height and centers nicely */
.modal.show .modal-dialog.modal-xxxl {
  height: 100%;
  margin-left: auto;
  margin-right: auto;
}

/* When you pass centered in JSX, boost flex centering reliability */
.modal.modal-dialog-centered,
.modal.show {
  display: flex !important;
  align-items: center !important;   /* vertical center */
  justify-content: center !important; /* horizontal center */
}

/* Fill the viewport; remove rounded corners for a true fullscreen feel */
.modal-xxxl .modal-content {
  height: 100%;
  border-radius: 0;
}

/* ─────────────────────────────
   Sticky header & layout
   ───────────────────────────── */

.modal-header-sticky {
  position: sticky;
  top: 0;
  z-index: 2; /* content (1), header (2) since modal z is already high */
  background: #fff;
  border-bottom: 1px solid var(--bs-border-color, #dee2e6);
}

/* Body takes remaining height between header and footer */
.modal-body-fixed {
  padding: 0;
  background: #fff;
  overflow: hidden;
  height: calc(100% - 56px - 56px); /* header + footer ~56px each */
  display: flex;
  flex-direction: column;
}

/* Controls (non-sticky) */
.modal-controls {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: .75rem;
  align-items: center;
  padding: .75rem 1rem;
  border-bottom: 1px solid var(--bs-border-color, #e9ecef);
  background: #fff;
}
.modal-search { min-width: 260px; }

/* Single scroll box for table (owns both scrollbars) */
.table-container {
  flex: 1;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 12px;              /* keep last row above footer */
  scrollbar-gutter: stable both-edges;
}
.table-container .table { margin-bottom: 0; }

/* Sticky table header (cells) */
.modal-table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background: #f8f9fa;
  box-shadow: inset 0 -1px 0 var(--bs-border-color, #e9ecef);
}

/* Main page summary header also sticky */
.table-sticky thead.sticky-top { top: 0; z-index: 1; }

/* Softer status colors */
.text-danger-soft { color: #b02a37 !important; }
.text-success-soft { color: #1b5e20 !important; }

.due-full   { background: #fff1f1 !important; color: #b02a37 !important; font-weight: 600; }
.due-partial{ background: #fff7e6 !important; color: #7a5b00 !important; font-weight: 600; }
.due-zero   { background: #eef9f0 !important; color: #1b5e20 !important; font-weight: 600; }

/* Readability */
.modal-table {
  border-collapse: separate;
  border-spacing: 0;
  table-layout: auto;
  min-width: 1000px;
}
.table td, .table th { vertical-align: middle; white-space: nowrap; }

/* Sticky Left Columns: #, Name, Admission, Class */
.slc { position: sticky; background: #fff; z-index: 1; background-clip: padding-box; }
.modal-table thead .slc { z-index: 2; }

.slc-1, .slc-2, .slc-3, .slc-4 { min-width: 120px; }
.slc-1 { left: 0;                 min-width: 64px;  text-align: center; }
.slc-2 { left: 64px;              min-width: 220px; } /* Name */
.slc-3 { left: calc(64px + 220px);    min-width: 140px; } /* Admission */
.slc-4 { left: calc(64px + 220px + 140px); min-width: 120px; } /* Class */

.modal-table thead .slc { box-shadow: inset 0 -1px 0 var(--bs-border-color, #e9ecef); }

/* Clickable chips in summary table */
.click-chip-cell { vertical-align: middle; }
.count-chip {
  display: inline-block;
  padding: .25rem .5rem;
  border-radius: 9999px;
  font-weight: 600;
  font-size: .875rem;
  line-height: 1;
  cursor: pointer;
  user-select: none;
  transition: transform .05s ease, box-shadow .15s ease;
  border: 1px solid transparent;
}
.count-chip:hover { transform: translateY(-1px); }
.chip-success { background: #e8f5e9; color: #1b5e20; border-color: #c8e6c9; }
.chip-warning { background: #fff8e1; color: #7a5b00; border-color: #ffe0b2; }
.chip-danger  { background: #ffebee; color: #b02a37; border-color: #ffcdd2; }

.overflow-x-auto { overflow-x: auto; }
